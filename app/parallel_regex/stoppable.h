#ifndef STOPPABLE_H_IJITEO1U
#define STOPPABLE_H_IJITEO1U

#include <boost/function.hpp>

////////////////////////////////////////////////////////////////////////////////
//
// Notice Arg should be a struct when we need arguments more thant 2
//
////////////////////////////////////////////////////////////////////////////////
class stoppable
{
public:
  typedef boost::function0<bool> StopF;

public:
  template <typename Func>
  void stop_checker(Func f) { m_stop_checker = f; }

  bool should_stop()
  { 
    return m_stop_checker.empty() ? false : m_stop_checker();
  }

private:
  StopF m_stop_checker;
};

////////////////////////////////////////////////////////////////////////////////
//
//
//
////////////////////////////////////////////////////////////////////////////////
#endif
